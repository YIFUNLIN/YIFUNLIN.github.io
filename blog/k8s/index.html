<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>林羿帆-個人網站</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="這是一份關於 Kubernetes (K8s) 的入門學習筆記，從核心元件到整體架構，幫助您快速理解 K8s 的運作原理。">
  <meta name="author" content="Evan Lin">
    
  
  <meta name="theme-name" content="liva-hugo" />
  
  <meta name="generator" content="Hugo 0.148.1">

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://yifunlin.github.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://yifunlin.github.io/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://yifunlin.github.io/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://yifunlin.github.io/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://yifunlin.github.io/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://yifunlin.github.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://yifunlin.github.io/images/favicon.png " type="image/x-icon">

  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-K2QY5YMF2Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K2QY5YMF2Z');
</script>

</head>
<body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://yifunlin.github.io/">
          
































  

  
  


  


        </a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.instagram.com/yifan00802/"><i class="ti-instagram"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/YIFUNLIN"><i class="ti-github"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.linkedin.com/in/lin-yi-fan-293082257/"><i class="ti-linkedin"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://yifunlin.github.io/">
            
































  

  
  


  


          </a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://yifunlin.github.io/about/">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://yifunlin.github.io/blog/">Post</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://yifunlin.github.io/contact/">Contact</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://yifunlin.github.io//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        
        <a href="/categories/%e6%8a%80%e8%a1%93%e5%ad%b8%e7%bf%92"
          class="text-primary">技術學習</a>
        
        <h2>Kubernetes (K8s) 入門筆記</h2>
        <div class="mb-3 post-meta">
          <span>By Evan Lin</span>
          
          <span class="border-bottom border-primary px-2 mx-1"></span>
          <span>05 August 2025</span>
          
        </div>
        
        <div class="content mb-5">
          <p>今天要分享的是我先前整理的 Kubernetes (K8s) 入門筆記，希望能幫助大家快速上手這個強大的容器編排工具。</p>
<hr>
<h2 id="k8s-核心元件">K8s 核心元件</h2>
<ul>
<li>
<p><strong>Node</strong>: 一個 Node 就是一台實體伺服器或虛擬機，是 K8s 工作負載的運行基礎，可運行一個或多個 Pod。</p>
</li>
<li>
<p><strong>Pod</strong>: K8s 中最小的調度和部署單位。它為一個或多個容器提供了一個共享的運行環境，包含共享的儲存（Volumes）和網路資源。雖然一個 Pod 可以包含多個容器，但通常情況下一個 Pod 只運行一個主容器。</p>
</li>
<li>
<p><strong>Sidecar</strong>: 這是一種將主容器和輔助容器放在同一個 Pod 中的模式。Sidecar 容器用來擴展或增強主容器的功能，例如日誌收集、監控、配置管理等，而不需要修改主應用程式的程式碼。</p>
</li>
<li>
<p><strong>Service (svc)</strong>: 將一組 Pod 封裝成一個單一且穩定的服務端點。Service 提供了一個統一的入口來訪問這組 Pod，並具備負載平衡的功能。它可以分為對內的 ClusterIP 服務和對外的 NodePort、LoadBalancer 服務。</p>
</li>
<li>
<p><strong>Ingress</strong>: 作為叢集內服務的對外入口，負責管理從外部訪問叢集內部服務的規則。透過 Ingress，您可以配置不同的 HTTP/HTTPS 路由規則，將外部請求根據域名或路徑轉發到叢集內不同的 Service 上。</p>
</li>
<li>
<p><strong>ConfigMap 和 Secret</strong>: 用於將配置資訊和敏感資料（如密碼、API 金鑰）與應用程式映像檔解耦。這使得配置的修改不需要重新編譯和部署應用程式，提高了靈活性和安全性。</p>
</li>
<li>
<p><strong>Volume</strong>: 解決了容器內數據持久化的問題。它可以將數據掛載到本地磁碟或遠端儲存空間（如 NFS、Ceph 或雲端儲存），確保即使 Pod 重啟或被刪除，數據依然存在。</p>
</li>
<li>
<p><strong>Deployment 和 StatefulSet</strong>:</p>
<ul>
<li><strong>Deployment</strong>: 用於部署和管理「無狀態」應用程式。它能管理 Pod 和 ReplicaSet，並提供副本控制、滾動更新（rolling update）和回滾（rollback）等功能，以實現高可用性。</li>
<li><strong>StatefulSet</strong>: 用於部署和管理「有狀態」應用程式（如資料庫）。它能確保 Pod 擁有穩定且唯一的網路標識符和持久化儲存，並保證部署和擴展的順序性。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="k8s-架構master-worker">K8s 架構：Master-Worker</h2>
<p>K8s 採用 Master-Worker (或稱 Control Plane-Node) 的架構。</p>
<h3 id="worker-node-工作節點-架構">Worker Node (工作節點) 架構</h3>
<p>每個 Worker Node 都包含三個核心組件：</p>
<ul>
<li><strong>Container Runtime</strong>: 運行容器的基礎軟體，負責拉取容器映像檔、創建、啟動和停止容器。常見的 Runtime 有 Docker、containerd 和 CRI-O。</li>
<li><strong>Kubelet</strong>: 每個節點上的代理程式，負責管理該節點上的 Pod，確保容器按照 Pod 的規格（PodSpec）運行。它會定期與 API Server 通信，接收指令並回報節點狀態。</li>
<li><strong>Kube-proxy</strong>: 負責為 Service 提供網路代理和負載平衡。它會在每個節點上維護網路規則，將發往 Service 的流量高效地路由到後端正確的 Pod 中。</li>
</ul>
<h3 id="master-node-控制平面-架構">Master Node (控制平面) 架構</h3>
<p>Master Node 是 K8s 叢集的大腦，負責管理和決策，主要由以下四個元件組成：</p>
<ul>
<li>
<p><strong>kube-apiserver</strong>: K8s 的 API 伺服器，是整個叢集的統一入口。所有元件之間的通信都通過 API Server 進行。它負責處理 REST 請求、驗證和處理數據，並將結果存儲到 etcd 中。同時，它也負責認證、授權和訪問控制。</p>
</li>
<li>
<p><strong>etcd</strong>: 一個高可用的鍵值（Key-Value）儲存系統，用於保存整個叢集的所有狀態數據，例如 Pod、Service、Node 的配置和狀態資訊。etcd 是叢集的單一事實來源（single source of truth），是整個系統的數據儲存中心。</p>
</li>
<li>
<p><strong>Scheduler (調度器)</strong>: 負責監控新創建的 Pod，並根據資源需求、策略和限制，將它們分配到最合適的 Worker Node 上運行。</p>
</li>
<li>
<p><strong>Controller Manager (控制器管理器)</strong>: 運行多個控制器進程，這些控制器負責監控叢集狀態，並努力將當前狀態驅動到期望狀態。例如，當一個 Node 故障時，Node Controller 會及時發現並處理；當 Deployment 的副本數不足時，Replication Controller 會啟動新的 Pod。</p>
</li>
<li>
<p><strong>Cloud Controller Manager (雲端控制器管理器)</strong>: (可選) 如果您在雲端供應商（如 GCP, AWS, Azure）上運行 K8s，這個組件會負責與雲端平台的 API 進行交互，管理雲端特有的資源，如負載平衡器、儲存卷等。</p>
</li>
</ul>
<hr>
<h2 id="deployment-與-replicaset-的關係">Deployment 與 ReplicaSet 的關係</h2>
<p>在 K8s 中，我們通常不直接操作 Pod 或 ReplicaSet，而是通過更高層級的 Deployment 來管理。</p>
<p><code>Deployment</code> &ndash;(管理)&ndash;&gt; <code>ReplicaSet</code> &ndash;(管理)&ndash;&gt; <code>Pod</code></p>
<ul>
<li><strong>ReplicaSet</strong>: 確保在任何時候都有指定數量的 Pod 副本在運行。</li>
<li><strong>Deployment</strong>: 管理 ReplicaSet 的版本和更新。當您更新 Deployment 的配置時（例如，更新容器映像檔），它會創建一個新的 ReplicaSet，並以滾動更新的方式逐步將 Pod 從舊版本遷移到新版本，實現平滑升級。</li>
</ul>
<p>我們只需要定義期望的狀態（例如，&ldquo;我需要這個應用程式的3個副本運行最新版本&rdquo;），K8s 就會自動完成所有底層的創建、更新和管理工作。</p>
<hr>
<h2 id="service-的其他類型">Service 的其他類型</h2>
<p>除了常見的 <code>NodePort</code>，Service 還有其他類型：</p>
<ul>
<li><strong>LoadBalancer</strong>: 將服務暴露到外部的雲端負載平衡器上，通常在雲端環境中使用。</li>
<li><strong>ExternalName</strong>: 將服務通過 CNAME 記錄映射到一個外部域名，用於在叢集內部訪問外部服務。</li>
<li><strong>Headless</strong>: 不會分配 ClusterIP，主要用於服務發現，允許您直接解析到後端所有 Pod 的 IP 地址。</li>
</ul>
<hr>
<h2 id="k3s--minikube">K3s &amp; Minikube</h2>
<ul>
<li><strong>K3s</strong>: 一個輕量級、經過 CNCF 認證的 Kubernetes 發行版，適用於邊緣計算、物聯網和資源受限的環境。</li>
<li><strong>Minikube</strong>: 一個可以在本地輕鬆運行單節點 Kubernetes 叢集的工具，非常適合學習和開發測試。</li>
</ul>
<hr>
<h2 id="學習資源">學習資源</h2>
<ol>
<li>
<p><strong><a href="https://www.youtube.com/watch?v=Ozb9mZg7MVM">30 分鐘 Docker 入門</a></strong></p>
<ul>
<li>這部影片介紹了 Docker 的核心概念，包括它與傳統虛擬機的區別，以及鏡像（Image）、容器（Container）和倉庫（Repository）等關鍵元素。影片還通過一個 Node.js 應用程式實例，演示了如何編寫 Dockerfile、構建鏡像和運行容器，並介紹了 Docker Compose 在多容器應用管理中的應用。</li>
</ul>
</li>
<li>
<p><strong><a href="https://www.youtube.com/watch?v=SL83f7Nzxr0">Kubernetes 一小時輕鬆入門</a></strong></p>
<ul>
<li>這部影片旨在幫助初學者快速掌握 K8s 的核心概念和架構，包括 Node、Pod、Service 等。影片詳細介紹了 Master-Worker 架構中各組件的功能，並指導如何使用 Minikube 或 K3s 在本地搭建環境，以及 <code>kubectl</code> 的基本操作。</li>
</ul>
</li>
<li>
<p><strong><a href="https://ithelp.ithome.com.tw/users/20168692/ironman/7376?page=1">Ithome 鐵人賽好文：入門 Kubernetes 到考取 CKA 證照</a></strong></p>
<ul>
<li>這是一系列非常詳盡的部落格文章，從基礎概念到實戰操作，內容涵蓋廣泛，是深入學習 K8s 並準備 CKA 認證的絕佳資源。</li>
</ul>
</li>
</ol>
<p><a href="http://googleusercontent.com/youtube_content/0">http://googleusercontent.com/youtube_content/0</a> <a href="http://googleusercontent.com/youtube_content/1">http://googleusercontent.com/youtube_content/1</a></p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>


<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2>Join Our Newsletter</h2>
        <p class="text-light px-md-5 py-4 border-left border-right border-primary">
          Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero</p>
        <form action="#" class="row justify-content-center">
          <div class="input-group col-md-8">
            <input type="text" class="form-control" placeholder="Your Email Address">
            <div class="input-group-append">
              <button class="input-group-text btn btn-primary">Subscribe</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>



<script>
  var indexURL = "https://yifunlin.github.io/index.json"
</script>

<!-- JS Plugins -->

<script src="https://yifunlin.github.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://yifunlin.github.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://yifunlin.github.io/plugins/slick/slick.min.js"></script>

<script src="https://yifunlin.github.io/plugins/venobox/venobox.min.js"></script>

<script src="https://yifunlin.github.io/plugins/search/fuse.min.js"></script>

<script src="https://yifunlin.github.io/plugins/search/mark.js"></script>

<script src="https://yifunlin.github.io/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://yifunlin.github.io/js/script.min.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
<div id="js-cookie-box" class="cookie-box cookie-box-hide">
	This site uses cookies. By continuing to use this website, you agree to their use. <span id="js-cookie-button" class="btn btn-sm btn-primary ml-2">I Accept</span>
</div>
<script>
	(function ($) {
		const cookieBox = document.getElementById('js-cookie-box');
		const cookieButton = document.getElementById('js-cookie-button');
		if (!Cookies.get('cookie-box')) {
			cookieBox.classList.remove('cookie-box-hide');
			cookieButton.onclick = function () {
				Cookies.set('cookie-box', true, {
					expires:  2 
				});
				cookieBox.classList.add('cookie-box-hide');
			};
		}
	})(jQuery);
</script>


<style>
.cookie-box {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  text-align: center;
  z-index: 9999;
  padding: 1rem 2rem;
  background: rgb(71, 71, 71);
  transition: all .75s cubic-bezier(.19, 1, .22, 1);
  color: #fdfdfd;
}

.cookie-box-hide {
  display: none;
}
</style>
</body>
</html>